@startuml
!include style.puml

|User|
start
:Enter edit command with class tags;

|System|
if () then ([invalid command format])
    |User|
    :Receive error message;
else ([valid command format])
    |System|
    :Parse command parameters;

    if () then ([no fields to edit])
        |User|
        :Receive error message;
    else ([at least one field to edit])
        |System|
        if () then ([student ID not found])
            |User|
            :Receive student not found message;
        else ([student ID exists])
            |System|
            if () then ([class tags specified])
                if () then ([empty t/ provided])
                    :Clear all class tags;
                else ([class tags provided])

                    if () then ([one or more tags not found])
                        |User|
                        :Receive tag not found error message;
                    else ([all tags exist])
                        |System|
                        :Resolve to correctly cased tags;
                    endif
                endif
            else ([class tags not specified])
                |System|
                :Keep existing class tags;
            endif

            :Create edited person;
            if () then ([duplicate person])
                |User|
                :Receive duplicate person error;
            else ([unique person])
                |System|
                :Update person in address book;
                |User|
                :Receive success message;
            endif
        endif
    endif
endif

stop

@enduml

